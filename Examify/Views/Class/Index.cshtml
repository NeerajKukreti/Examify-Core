@{
    ViewBag.Title = "Classes";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="@Url.Content("~/theme/plugins/datatables-2.3.4/css/datatables.bootstrap.css")" rel="stylesheet" />
<link href="@Url.Content("~/theme/plugins/datatables-2.3.4/css/datatables.bootstrap5.min.css")" rel="stylesheet" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

<style>
    .checkbox label {
        position: relative !important;
        top: 20px !important;
    }
    
    .custom-modal {
        max-width: 110%; /* wider modal */
        height: 90vh; /* 90% of viewport height */
    }
</style>
<div class="app-content-header">
    <!--begin::Container-->
    <div class="container-fluid">
        <!--begin::Row-->
        <div class="row">
            <div class="col-sm-6">
                <h3 class="mb-0">Manage Classes</h3>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-end">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Classes</li>
                </ol>
            </div>
            <div class="col-md-2 mt-3">
                <div class="btn-group">
                    <button type="button"
                            class="btn btn-outline-primary dropdown-toggle"
                            data-bs-toggle="dropdown"
                            aria-expanded="false">
                        Add New
                    </button>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item" data-bs-target="#classModel" data-bs-toggle="modal" id="CreateClass">
                                Class
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="#">Batch</a>
                        </li>
                        <li>
                            <hr class="dropdown-divider" />
                        </li>
                    </ul>
                </div>
            </div>
            <table class="table table-striped table-bordered table-hover table-checkable order-column" id="ClassTable">
            </table>
        </div>
        <!--end::Row-->
    </div>
    <!--end::Container-->
</div>

<!-- full width -->

<div class="modal fade" id="classModel" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title fs-5">Add/Update Class</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body classModalBody">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <!-- Then load DataTables and other scripts that depend on jQuery -->
    <script src="@Url.Content("~/theme/plugins/datatables-2.3.4/js/datatables.js")"></script>
    <script src="@Url.Content("~/theme/plugins/datatables-2.3.4/js/datatables.bootstrap5.min.js")"></script>
    <script src="@Url.Content("~/scripts/custom/class/classdatatable.js")"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
}

<script>
    // Define URLs for AJAX calls
    var loadClassUrl = '@Url.Action("LoadClasses", "Class")';
    var createClassUrl = '@Url.Action("Create", "Class")';
    var editClassUrl = '@Url.Action("Edit", "Class")';
    var deleteClassUrl = '@Url.Action("Delete", "Class")';
    var changeStatusUrl = '@Url.Action("ChangeStatus", "Class")';
    var endPoint = 'https://localhost:7271/';
</script>